<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
  </head>
  <body>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="svg-star" viewBox="0 0 16 15">
        <path d="M8.47553 1.08156L9.5451 4.37336C9.74591 4.99139 10.3218 5.40983 10.9717 5.40983H14.4329C14.9172 5.40983 15.1186 6.02964 14.7268 6.31434L11.9266 8.34878C11.4009 8.73075 11.1809 9.4078 11.3817 10.0258L12.4513 13.3176C12.6009 13.7783 12.0737 14.1613 11.6818 13.8766L8.88168 11.8422C8.35595 11.4602 7.64405 11.4602 7.11832 11.8422L4.31815 13.8766C3.9263 14.1613 3.39906 13.7783 3.54873 13.3176L4.6183 10.0258C4.81911 9.4078 4.59913 8.73075 4.07339 8.34878L1.27323 6.31434C0.881369 6.02964 1.08276 5.40983 1.56712 5.40983H5.02832C5.67816 5.40983 6.25409 4.99139 6.4549 4.37336L7.52447 1.08156C7.67415 0.620903 8.32585 0.620903 8.47553 1.08156Z" fill="var(--star-fill)" stroke="var(--star-stroke)"/>
      </symbol>
      <symbol id="svg-minimize" viewBox="0 0 2048 2048">
        <path fill="currentcolor" transform="translate(0,2048) scale(1,-1)" d= "M0 1229L2048 1229L2048 1024L0 1024L0 1229Z"></path>
      </symbol>
      <symbol id="svg-close" viewBox="0 0 2048 2048">
        <path fill="currentcolor" transform="translate(0,2048) scale(1,-1)" d= "M2048 1903L1169 1024L2048 145L1903 0L1024 879L145 0L0 145L879 1024L0 1903L145 2048L1024 1169L1903 2048L2048 1903Z"></path>
      </symbol>
    </svg>

    <header id="header" class="header body--fixed-top">
      <div class="header__title">Switchboard</div>
      <div class="header__actions">
        <button class="button button--shell" id="minimize">
          <svg width="0.6rem" height="0.6rem">
            <use xlink:href="#svg-minimize" />
          </svg>
        </button>
        <button class="button button--shell" id="close">
          <svg width="0.6rem" height="0.6rem">
              <use xlink:href="#svg-close" />          
          </svg>
        </button>
      </div>
    </header>

    <main class="main body--flex-middle">
      <div id="sign-in-container" class="sign-in-container main__pre-sign-in-container">
        <button class="button button--primary button--extra-wide button--sign-in" id="sign-in">Sign in</button>
      </div>

      <div id="toolbar" class="toolbar">
        <button data-selected-option="favorites" id="view-toggle" class="toggle">
          <span data-option="favorites" data-selected class="toggle__option">Favorites</span>
          <span data-option="all" class="toggle__option">All</span>
        </button>
        <button class="button button--primary button--destructive button--sign-out" id="sign-out">Sign out</button>
      </div>
      <div id="scroll-area" class="scroll-area">
        <div class="scroll-sentinel" id="scroll-sentinel"></div>
        <div class="environment-grid" id="environments"></div>
      </div>
    </main>

    <script>
      require('./renderer.js')
    </script>

    <style>
      :root {
        --color-primary: #0078d4;
        --color-primary-light: #0084E9;
        --color-primary-dark: #0069B9;
        --color-destructive: #d4002e;
        --color-yellow: #e0bf03;
        --color-purple: #5100d4;
        --color-orange: #d45500;
        --color-off-black: #333333;
        --shadow-1: 0 1.6px 3.6px 0 rgba(0,0,0,.132), 0 0.3px 0.9px 0 rgba(0,0,0,.108);
        --shadow-2: 0 3.2px 7.2px 0 rgba(0,0,0,.132), 0 0.6px 1.8px 0 rgba(0,0,0,.108);
        --shadow-3: 0 6.4px 14.4px 0 rgba(0,0,0,.132), 0 1.2px 3.6px 0 rgba(0,0,0,.108);
        --gradient-app-background: linear-gradient(var(--color-primary-light) 0%, var(--color-primary-dark) 100%) 100% 100%;
        --gradient-app-toolbar: linear-gradient(var(--color-primary-light) 0%, var(--color-primary-light) 100%) 100% 100%;
        --app-header-height: 1.75rem;
        --app-toolbar-height: 4rem;
        --app-background-offset-post-signin: var(--app-header-height) + var(--app-toolbar-height);
        --z-app-header: 2;
        --z-toolbar: 1;
      }

      .js-focus-visible :focus:not(.focus-visible) {
        outline: none;
      }

      .js-focus-visible :focus.focus-visible {
        outline: 2px solid orange;
        outline-offset: -2px;
      }

      * {
        color: inherit;
        box-sizing: inherit;
      }
          
      html {
        height: 100%;
        color: var(--color-off-black);
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;
        box-sizing: border-box;
        margin: 0;
        height: 100%;
        display: flex;
        flex-direction: column;
        background: var(--gradient-app-toolbar), var(--gradient-app-background);
        background-size: 100% calc(var(--app-background-offset-post-signin)), 100% calc(100% - var(--app-header-height) - var(--app-toolbar-height)); 
        background-position: top left, top calc(var(--app-header-height) + var(--app-toolbar-height)) left;
        background-repeat: no-repeat, no-repeat;
        overflow: hidden;
      }

      body.pre-sign-in {
        background: url("assets/sitting-3.svg") bottom right no-repeat, var(--gradient-app-background);
        background-size: 65%, 100% 100%;
      }

      .body--fixed-top {
        flex: 0 0 auto;
      }

      .body--flex-middle {
        flex: 1 1 auto;
      }

      * {
        box-sizing: inherit;
      }

      .header {
        height: var(--app-header-height);
        padding: 0 0 0 1rem;
        -webkit-app-region: drag;
        display: flex;
        justify-content: space-between;
        flex-direction: row;
        background-color: #323130;
        color: white;
        transition: background-color 250ms;
        position: relative;
        z-index: var(--z-app-header);
      }

      .header__title {
        display: flex;
        align-items: center;
        font-size: 0.85rem;
      }

      .header__actions {
        display: flex;
      }

      .toolbar {
        display: none;
        flex: 0 0 auto;
        height: var(--app-toolbar-height);
        align-items: center;
        padding: 0 1rem;
        background: var(--gradient-app-toolbar);
        position: relative;
        z-index: var(--z-toolbar);
      }

      .toolbar--with-scroll {
        box-shadow: var(--shadow-3);
      }

      .toggle {
        flex: 0 0 auto;
        background-color: var(--color-primary-dark);
        height: 2rem;
        border-radius: 1rem;
        border: none;
        box-shadow: inset var(--shadow-2);
        display: flex;
        align-items: center;
        position: relative;
        padding: 0;
      }

      .toggle::before {
        content: 'Favorites';
        font-size: 0.85rem;
        font-weight: 600;
        color: transparent;
        padding: 0 1rem;
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        background-color: white;
        box-shadow: var(--shadow-2);
        border-radius: 1rem;
        width: var(--indicator-width, auto);
        transform: translate3d(var(--indicator-translate), 0, 0);
        box-sizing: border-box;
        transition: width 250ms, transform 250ms;
      }

      .toggle__option {
        font-size: 0.85rem;
        font-weight: 600;
        color: white;
        padding: 0 1rem;
        position: relative;
        transition: color 250ms;
      }

      .toggle__option[data-selected] {
        color: var(--color-primary);
      }

      button {
        cursor: pointer;
        -webkit-app-region: no-drag;
      }

      .button--shell {
        width: 3rem;
        background-color: transparent;
        border: none;
        padding: 0;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .button--shell:hover,
      .button--shell:focus {
        outline: none;
        background-color: #484644;
      }

      .button--primary {
        background-color: white;
        border: none;
        border-radius: 4px;
        color: var(--color-primary);
        height: 2rem;
        padding: 0 1rem;
        font-weight: 600;
        font-size: 0.85rem;
        box-shadow: var(--shadow-2);
      }

      .button--primary:hover,
      .button--primary.focus-visible {
        box-shadow: var(--shadow-3);
      }

      .button--primary:active {
        box-shadow: var(--shadow-1);
      }

      .button--destructive {
        background-color: white;
        color: var(--color-destructive);
      }

      .button--extra-wide {
        width: 100%;
        max-width: 24rem;
      }

      .button--pin {
        --star-stroke: var(--color-off-black);
        --star-fill: transparent;

        background-color: transparent;
        border: none;
        padding: 0.25rem 0 0.25rem 0.25rem;
      }

      .button--pinned {
        --star-fill: var(--color-yellow);
      }

      .button--launch {
        color: white;
        position: relative;
        overflow: hidden;
        transform: perspective(1px) translateZ(0);
        text-transform: capitalize;
      }

      .button--launch[data-type="trial"] {
        background-color: var(--color-orange);
      }

      .button--launch[data-type="livedrive"] {
        background-color: var(--color-purple);
      }

      .button--launching::before {
        animation: launch 500ms;
        animation-timing-function: cubic-bezier(0.895, 0.03, 0.685, 0.22);
        animation-fill-mode: backwards;
      }

      .button--launch::before {
        content: '';
        z-index: -1;
        position: absolute;
        width: 100%;
        height: 100%;
        left: 0;
        top: 0;
        opacity: 1;
        background-color: rgba(255, 255, 255, 0.5);
        transform: translateX(-100%);
        will-change: transform, opacity;
      }

      .sign-in-container {
        display: none;
        height: 100%;
        justify-content: center;
        align-items: center;
      }

      .pre-sign-in .sign-in-container {
        display: flex;
      }

      .main {
        display: flex;
        flex-direction: column;
      }

      .main__pre-sign-in-container {
        flex: 1 0 auto;
      }

      .button--sign-in {
        animation: button-enter 400ms 200ms;
        animation-fill-mode: both;
        will-change: transform, opacity;
      }


      .button--sign-out {
        margin: 0 0 0 auto;
        flex: 0 0 auto;
      }

      .post-sign-in.environment-available .toolbar{
        display: flex;

        animation: toolbar-enter 400ms;
        animation-fill-mode: both;
        will-change: transform, opacity;
      }

      .scroll-area {
        overflow: auto;
        flex: 0 1 auto;
        display: flex;
        flex-direction: column; 
      }

      .scroll-sentinel {
        flex: 0 0 0px;
      }

      .environment-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(14rem, 1fr));
        grid-gap: 1rem;
        padding: 0 1rem;
      }

      .card {
        background-color: white;
        border-radius: 4px;
        padding: 1rem;
        box-shadow: var(--shadow-2);

        animation: card-enter 400ms 400ms;
        animation-fill-mode: both;
        will-change: transform, opacity;
      }

      .card:nth-child(2) { animation-delay: 500ms; }
      .card:nth-child(3) { animation-delay: 600ms; }
      .card:nth-child(4) { animation-delay: 700ms; }
      .card:nth-child(5) { animation-delay: 800ms; }
      .card:nth-child(6) { animation-delay: 900ms; }
      .card:nth-child(7) { animation-delay: 1000ms; }
      .card:nth-child(8) { animation-delay: 1100ms; }
      .card:nth-child(9) { animation-delay: 1200ms; }


      .card__actions {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(8rem, 1fr));
        grid-gap: 0.5rem;
      }

      .card__header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .card__title {
        font-size: 1.5rem;
        margin: 0;
        font-weight: 600;
      }


      @keyframes card-enter {
        0% {
          transform: translateX(-64px);
          opacity: 0;
        }
        100% {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes button-enter {
        0% {
          transform: translateY(16px);
          opacity: 0;
        }
        100% {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes toolbar-enter {
        0% {
          transform: translateY(-16px);
          opacity: 0;
        }
        100% {
          transform: translateX(0);
          opacity: 1;
        }
      }


      @keyframes launch {
        0% {
          transform: translateX(-100%);
          opacity: 1;
        }
        40% {
          transform: translateX(0);
          opacity: 1;
        }
        100% {
          transform: translateX(0);
          opacity: 0;
        }
      }

    </style>

    <script>
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";"undefined"!=typeof document&&function(e){var t;function n(){t||(t=!0,e())}["interactive","complete"].indexOf(document.readyState)>=0?e():(t=!1,document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1))}(function(){var e=!0,t=!1,n=null,o={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function d(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function i(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function s(t){e=!1}function u(){document.addEventListener("mousemove",a),document.addEventListener("mousedown",a),document.addEventListener("mouseup",a),document.addEventListener("pointermove",a),document.addEventListener("pointerdown",a),document.addEventListener("pointerup",a),document.addEventListener("touchmove",a),document.addEventListener("touchstart",a),document.addEventListener("touchend",a)}function a(t){"html"!==t.target.nodeName.toLowerCase()&&(e=!1,document.removeEventListener("mousemove",a),document.removeEventListener("mousedown",a),document.removeEventListener("mouseup",a),document.removeEventListener("pointermove",a),document.removeEventListener("pointerdown",a),document.removeEventListener("pointerup",a),document.removeEventListener("touchmove",a),document.removeEventListener("touchstart",a),document.removeEventListener("touchend",a))}document.addEventListener("keydown",function(t){d(document.activeElement)&&i(document.activeElement),e=!0},!0),document.addEventListener("mousedown",s,!0),document.addEventListener("pointerdown",s,!0),document.addEventListener("touchstart",s,!0),document.addEventListener("focus",function(t){var n,s,u;d(t.target)&&(e||(n=t.target,s=n.type,"INPUT"==(u=n.tagName)&&o[s]&&!n.readOnly||"TEXTAREA"==u&&!n.readOnly||n.isContentEditable))&&i(t.target)},!0),document.addEventListener("blur",function(e){var o;d(e.target)&&(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(t=!0,window.clearTimeout(n),n=window.setTimeout(function(){t=!1,window.clearTimeout(n)},100),(o=e.target).hasAttribute("data-focus-visible-added")&&(o.classList.remove("focus-visible"),o.removeAttribute("data-focus-visible-added")))},!0),document.addEventListener("visibilitychange",function(n){"hidden"==document.visibilityState&&(t&&(e=!0),u())},!0),u(),document.body.classList.add("js-focus-visible")})});
    </script>
  </body>
</html>
